# ä»ä¼ä¸šå¾®ä¿¡åŒæ­¥

### åŒæ­¥ç»„ç»‡æ¶æ„å‰çš„å‡†å¤‡å·¥ä½œ

#### 1. ä¼ä¸šå¾®ä¿¡ç®¡ç†å‘˜æƒé™
éœ€è¦ä½¿ç”¨"ä¼ä¸šå¾®ä¿¡ç®¡ç†å‘˜è´¦å·"ï¼ˆæˆ–æœ‰é€šè®¯å½•ç®¡ç†æƒé™çš„å­ç®¡ç†å‘˜ï¼‰ã€‚æ™®é€šæˆå‘˜è´¦å·æ²¡æœ‰æƒé™åˆ›å»ºåº”ç”¨æˆ–åŒæ­¥é€šè®¯å½•ã€‚

#### 2. åˆ›å»ºåº”ç”¨å¹¶è·å–å‡­è¯
åœ¨ä¼ä¸šå¾®ä¿¡ç®¡ç†åå°åˆ›å»ºè‡ªå»ºåº”ç”¨æˆ–"ç¬¬ä¸‰æ–¹åº”ç”¨"ï¼Œå¹¶è·å–ä»¥ä¸‹å…³é”®å‡­è¯ï¼š
- ä¼ä¸š IDï¼ˆCorpIDï¼‰
- åº”ç”¨çš„ AgentId
- åº”ç”¨çš„ Secret

è¿™äº›å‚æ•°ç”¨äºè·å– AccessToken å¹¶è°ƒç”¨æ¥å£ã€‚  
ğŸ‘‰ å®˜æ–¹æ–‡æ¡£ï¼š[è·å– AccessToken](https://developer.work.weixin.qq.com/document/path/91039)

#### 3. é…ç½®é€šè®¯å½• API æƒé™
åœ¨ä¼ä¸šå¾®ä¿¡åå°ä¸ºåº”ç”¨å¼€å¯"é€šè®¯å½•è¯»å†™æƒé™"ã€‚å¸¸è§éœ€è¦çš„æƒé™åŒ…æ‹¬ï¼š
- é€šè®¯å½•ç»„ç»‡æ¶æ„åªè¯»ï¼ˆåŒæ­¥ç»„ç»‡ç»“æ„ï¼‰
- é€šè®¯å½•ç»„ç»‡æ¶æ„è¯»å†™ï¼ˆåˆ›å»º/ä¿®æ”¹éƒ¨é—¨å’Œæˆå‘˜ï¼‰

ğŸ‘‰ å®˜æ–¹æ–‡æ¡£ï¼š[æ¥å£æƒé™](https://developer.work.weixin.qq.com/document/path/91039)

![é…ç½®](../img/user_manual/wecom-settings.png)

#### 4. å®‰å…¨é…ç½®
- é…ç½®åº”ç”¨çš„"å¯ä¿¡ IP ç™½åå•"ï¼Œç¡®ä¿è°ƒç”¨ API æ—¶ä¸è¢«æ‹’ç»
- å¦‚æœéœ€è¦æ¥æ”¶ä¼ä¸šå¾®ä¿¡æ¨é€çš„äº‹ä»¶ï¼ˆå¦‚æˆå‘˜å˜æ›´ï¼‰ï¼Œéœ€ï¼š
  - éƒ¨ç½² HTTPS æœåŠ¡
  - é…ç½®å›è°ƒ URL

ğŸ‘‰ å®˜æ–¹æ–‡æ¡£ï¼š[å›è°ƒæ¨¡å¼](https://developer.work.weixin.qq.com/document/path/91770)

![é…ç½®](../img/user_manual/wecom-ip.png)

#### 5. æ•°æ®å‡†å¤‡
ç¡®è®¤å¤–éƒ¨ç³»ç»Ÿä¸­çš„éƒ¨é—¨ã€æˆå‘˜æ•°æ®å­—æ®µä¸ä¼ä¸šå¾®ä¿¡å­—æ®µå¯¹åº”ï¼š
- éƒ¨é—¨ IDã€çˆ¶éƒ¨é—¨ IDã€éƒ¨é—¨åç§°
- æˆå‘˜è´¦å·ï¼ˆuseridï¼‰ã€å§“åã€èŒä½

> **æ³¨æ„**ï¼šæ‰‹æœºå·ã€é‚®ç®±ç­‰æ•æ„Ÿå­—æ®µé»˜è®¤ä¸ä¼šåœ¨ç»„ç»‡æ¶æ„åŒæ­¥ä¸­è¿”å›ï¼Œå¦‚éœ€è·å–éœ€é¢å¤–æˆæƒã€‚

---

### é…ç½®ä¼ä¸šå¾®ä¿¡å‚æ•°

1. ç‚¹å‡»ã€ç³»ç»Ÿã€‘èœå•ï¼Œè¿›å…¥ã€ä¼ä¸šè®¾ç½®ã€‘é¡µé¢
2. åœ¨ä¼ä¸šå¾®ä¿¡å¡ç‰‡ï¼Œç‚¹å‡»ã€Œé…ç½®ã€æŒ‰é’®ï¼Œä¾æ¬¡å½•å…¥ï¼š
   - ä¼ä¸š IDï¼ˆä»ä¼ä¸šå¾®ä¿¡ç®¡ç†åå°è·å–ï¼‰
   - åº”ç”¨ IDï¼ˆä¼ä¸šå¾®ä¿¡ä¸­åˆ›å»ºçš„åº”ç”¨ä¸“å± IDï¼‰
   - åº”ç”¨ç§˜é’¥ï¼ˆå¯¹åº”åº”ç”¨çš„å®‰å…¨ç§˜é’¥ï¼‰
3. å®Œæˆå‚æ•°å½•å…¥åï¼Œç‚¹å‡»ã€Œæµ‹è¯•è¿æ¥ã€æŒ‰é’®éªŒè¯é…ç½®æœ‰æ•ˆæ€§
4. ç‚¹å‡»ã€Œç¡®è®¤ã€ä¿å­˜é…ç½®ä¿¡æ¯

---

### å¼€å¯åŒæ­¥ç»„ç»‡æ¶æ„å¼€å…³

![å¼€å¯åŒæ­¥å¼€å…³ç¤ºæ„å›¾](../img/user_manual/wecom-enable.png)

---

### åŒæ­¥ä¼ä¸šå¾®ä¿¡ç»„ç»‡æ¶æ„

1. ç‚¹å‡»ã€ç³»ç»Ÿã€‘èœå•ï¼Œè¿›å…¥ã€ç»„ç»‡æ¶æ„ã€‘é¡µé¢
2. ç‚¹å‡»ã€Œæ›´å¤šã€æŒ‰é’®ä¸‹çš„ã€Œä¼ä¸šå¾®ä¿¡åŒæ­¥ã€é€‰é¡¹ï¼Œç³»ç»Ÿå°†è‡ªåŠ¨è§¦å‘åŒæ­¥æµç¨‹
3. åŒæ­¥å®Œæˆåï¼Œé¡µé¢å·¦ä¾§çš„ç»„ç»‡æ¶æ„åŒºåŸŸå°†è‡ªåŠ¨å±•ç¤ºä»ä¼ä¸šå¾®ä¿¡åŒæ­¥è¿‡æ¥çš„å®Œæ•´ç»„ç»‡æ¶æ„

**åç»­ç»´æŠ¤è¯´æ˜**ï¼šå½“ä¼ä¸šå¾®ä¿¡ä¸­æ–°å¢æˆå‘˜æˆ–è°ƒæ•´ç»„ç»‡æ¶æ„åï¼Œåªéœ€é‡å¤æ‰§è¡Œä¸Šè¿°ã€Œä¼ä¸šå¾®ä¿¡åŒæ­¥ã€æ“ä½œï¼Œå³å¯å®Œæˆæœ€æ–°ç»„ç»‡æ¶æ„çš„æ›´æ–°ã€‚

![åŒæ­¥ç»„ç»‡æ¶æ„](../img/user_manual/wecom-sync.png)

#### é‡è¦æé†’

> **æ³¨æ„**ï¼š
> - è·å–æˆå‘˜è¯¦æƒ…æ¥å£ï¼ˆuser/getï¼‰ä» 2025 å¹´ 6 æœˆ 20 æ—¥ 20:00 èµ·ï¼Œæ‰€æœ‰æ–°åˆ›å»ºçš„è‡ªå»ºåº”ç”¨å’Œä»£å¼€å‘åº”ç”¨åœ¨è°ƒç”¨ `user/get` æ¥å£æ—¶ï¼Œå°†ä¸å†è¿”å›å¤´åƒã€æ€§åˆ«ã€æ‰‹æœºå·ã€é‚®ç®±ã€ä¼ä¸šé‚®ç®±ã€åœ°å€ç­‰æ•æ„Ÿå­—æ®µã€‚åªæœ‰é€šè¿‡ OAuth2 æˆæƒæµç¨‹ï¼Œå¹¶è·å¾—ç®¡ç†å‘˜ä»¥åŠæˆå‘˜æœ¬äººæˆæƒåï¼Œæ‰èƒ½è·å–å®Œæ•´ä¿¡æ¯ã€‚  
>   ğŸ‘‰ å®˜æ–¹æ–‡æ¡£ï¼š[user/get](https://developer.work.weixin.qq.com/document/path/91039)
> - åŒæ­¥é€šè®¯å½•æ¥å£ä»…è¿”å›ç»„ç»‡æ¶æ„å’Œæˆå‘˜åŸºç¡€ä¿¡æ¯ï¼Œä¸ä¼šåŒ…å«æ‰‹æœºå·ã€é‚®ç®±ç­‰æ•æ„Ÿå­—æ®µã€‚  
>   ğŸ‘‰ å®˜æ–¹æ–‡æ¡£ï¼š[é€šè®¯å½•åŒæ­¥](https://developer.work.weixin.qq.com/document/path/91039)

---

### OAuth2 æˆæƒæµç¨‹

1. ç³»ç»Ÿ â†’ ä¼ä¸šè®¾ç½® â†’ è®¤è¯è®¾ç½® â†’ æ·»åŠ  OAuth2 è®¤è¯
2. ä¼ä¸šå¾®ä¿¡ä¸­ OAuth 2.0 æˆæƒ URL ç¤ºä¾‹ï¼ˆ`appid` å’Œ `agentid` æ›¿æ¢ä¸ºå®é™…å€¼ï¼‰

![OAuth2é…ç½®](../img/user_manual/wecom-oauth2.png)